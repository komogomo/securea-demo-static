<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="user.register.title">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² - ã‚»ã‚­ãƒ¥ãƒ¬ã‚¢ã‚·ãƒ†ã‚£</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/custom.css">
  
  <!-- å¤šè¨€èªãƒ‡ãƒ¼ã‚¿ï¼ˆåŸ‹ã‚è¾¼ã¿ï¼‰ -->
  <script>
    window.i18nData = {
      ja: {
        // å…±é€š
        'logout': 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
        'common.back': 'æˆ»ã‚‹',
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢
        'user.register.title': 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²',
        'user.register.subtitle': 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²',
        'user.register.description': 'å…¥å±…è€…ã®æƒ…å ±ã‚’ç™»éŒ²ã—ã¾ã™ã€‚ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«æœ¬äººãŒè¨­å®šã—ã¾ã™ã€‚',
        
        // ãƒ•ã‚©ãƒ¼ãƒ é …ç›®
        'user.register.form.room': 'ä½æˆ¸ç•ªå·',
        'user.register.form.room.placeholder': 'ä¾‹ï¼šA101, B71',
        'user.register.form.room.help': 'å»ºç‰©è¨˜å·ã¨éƒ¨å±‹ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
        
        'user.register.form.name': 'æ°å',
        'user.register.form.name.placeholder': 'ä¾‹ï¼šç”°ä¸­ å¤ªéƒ',
        'user.register.form.name.help': 'ç®¡ç†çµ„åˆã®ã¿ãŒé–²è¦§ã§ãã¾ã™ï¼ˆä¸€èˆ¬ç”»é¢ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰',
        
        'user.register.form.furigana': 'ãµã‚ŠãŒãª',
        'user.register.form.furigana.placeholder': 'ä¾‹ï¼šãŸãªã‹ ãŸã‚ã†',
        'user.register.form.furigana.help': 'æ°åã®èª­ã¿æ–¹ã‚’ã²ã‚‰ãŒãªã§å…¥åŠ›ã—ã¦ãã ã•ã„',
        
        'user.register.form.nickname': 'ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ',
        'user.register.form.nickname.placeholder': 'ä¾‹ï¼šãƒ¤ãƒãƒ€ã€ã‚¿ãƒŠã‚«',
        'user.register.form.nickname.help': 'æ²ç¤ºæ¿ãªã©ã§è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã§ã™ã€‚ç©ºæ¬„ã®å ´åˆã¯åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«æœ¬äººãŒè¨­å®šã—ã¾ã™ã€‚',
        
        'user.register.form.email': 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹',
        'user.register.form.email.placeholder': 'example@email.com',
        'user.register.form.email.help': 'ãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯èªè¨¼ã«ä½¿ç”¨ã•ã‚Œã¾ã™',
        
        'user.register.form.startdate': 'åˆ©ç”¨é–‹å§‹æ—¥',
        'user.register.form.startdate.help': 'ã“ã®æ—¥ä»˜ä»¥é™ã«ãƒ­ã‚°ã‚¤ãƒ³ãŒå¯èƒ½ã«ãªã‚Šã¾ã™',
        
        'user.register.form.status': 'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹',
        'user.register.form.status.active': 'æœ‰åŠ¹',
        'user.register.form.status.inactive': 'ç„¡åŠ¹',
        'user.register.form.status.help': 'é€šå¸¸ã¯ã€Œæœ‰åŠ¹ã€ã‚’é¸æŠã—ã¦ãã ã•ã„',
        
        // ãƒœã‚¿ãƒ³
        'user.register.button.cancel': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
        'user.register.button.submit': 'ç™»éŒ²ã™ã‚‹',
        
        // æ³¨æ„äº‹é …
        'user.register.notes.title': 'ç™»éŒ²å¾Œã®æµã‚Œ',
        'user.register.notes.1': '1. ç™»éŒ²å®Œäº†å¾Œã€å…¥å±…è€…ã«QRã‚³ãƒ¼ãƒ‰ã¨åˆ©ç”¨é–‹å§‹æ—¥ã‚’æ›¸é¢ã§é…å¸ƒ',
        'user.register.notes.2': '2. åˆ©ç”¨é–‹å§‹æ—¥ä»¥é™ã€å…¥å±…è€…ã¯QRã‚³ãƒ¼ãƒ‰ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ã‚¢ã‚¯ã‚»ã‚¹',
        'user.register.notes.3': '3. ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ æœªè¨­å®šã®å ´åˆã€åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«æœ¬äººãŒè¨­å®š',
        'user.register.notes.4': '4. ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯æ²ç¤ºæ¿ãªã©ã§è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆå®Ÿåã¯éè¡¨ç¤ºï¼‰'
      },
      en: {
        // å…±é€š
        'logout': 'Logout',
        'common.back': 'Back',
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢
        'user.register.title': 'User Registration',
        'user.register.subtitle': 'New User Registration',
        'user.register.description': 'Register resident information. Nicknames will be set by users on first login.',
        
        // ãƒ•ã‚©ãƒ¼ãƒ é …ç›®
        'user.register.form.room': 'Room Number',
        'user.register.form.room.placeholder': 'e.g., A101, B71',
        'user.register.form.room.help': 'Enter building letter and room number',
        
        'user.register.form.name': 'Name',
        'user.register.form.name.placeholder': 'e.g., Taro Tanaka',
        'user.register.form.name.help': 'Visible to management only (not shown to general users)',
        
        'user.register.form.furigana': 'Furigana (Reading)',
        'user.register.form.furigana.placeholder': 'e.g., tanaka tarou',
        'user.register.form.furigana.help': 'Enter name reading in hiragana',
        
        'user.register.form.nickname': 'Nickname',
        'user.register.form.nickname.placeholder': 'e.g., Yamada, Tanaka',
        'user.register.form.nickname.help': 'Displayed on bulletin board. If left blank, user will set it on first login.',
        
        'user.register.form.email': 'Email Address',
        'user.register.form.email.placeholder': 'example@email.com',
        'user.register.form.email.help': 'Used for magic link authentication',
        
        'user.register.form.startdate': 'Start Date',
        'user.register.form.startdate.help': 'Login will be available from this date',
        
        'user.register.form.status': 'Status',
        'user.register.form.status.active': 'Active',
        'user.register.form.status.inactive': 'Inactive',
        'user.register.form.status.help': 'Usually select "Active"',
        
        // ãƒœã‚¿ãƒ³
        'user.register.button.cancel': 'Cancel',
        'user.register.button.submit': 'Register',
        
        // æ³¨æ„äº‹é …
        'user.register.notes.title': 'Post-Registration Process',
        'user.register.notes.1': '1. Distribute QR code and start date to residents in writing',
        'user.register.notes.2': '2. Residents access login screen via QR code after start date',
        'user.register.notes.3': '3. If nickname not set, user will set it on first login',
        'user.register.notes.4': '4. Nicknames are shown on bulletin board (real names hidden)'
      },
      zh: {
        // å…±é€š
        'logout': 'ç™»å‡º',
        'common.back': 'è¿”å›',
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢
        'user.register.title': 'ç”¨æˆ·æ³¨å†Œ',
        'user.register.subtitle': 'æ–°ç”¨æˆ·æ³¨å†Œ',
        'user.register.description': 'æ³¨å†Œå±…æ°‘ä¿¡æ¯ã€‚æ˜µç§°å°†åœ¨é¦–æ¬¡ç™»å½•æ—¶ç”±ç”¨æˆ·è®¾ç½®ã€‚',
        
        // ãƒ•ã‚©ãƒ¼ãƒ é …ç›®
        'user.register.form.room': 'ä½æˆ·ç¼–å·',
        'user.register.form.room.placeholder': 'ä¾‹å¦‚ï¼šA101, B71',
        'user.register.form.room.help': 'è¾“å…¥å»ºç­‘ç‰©å­—æ¯å’Œæˆ¿é—´å·',
        
        'user.register.form.name': 'å§“å',
        'user.register.form.name.placeholder': 'ä¾‹å¦‚ï¼šç”°ä¸­å¤ªéƒ',
        'user.register.form.name.help': 'ä»…ç®¡ç†ç»„åˆå¯è§ï¼ˆä¸å‘ä¸€èˆ¬ç”¨æˆ·æ˜¾ç¤ºï¼‰',
        
        'user.register.form.furigana': 'å‡åï¼ˆè¯»éŸ³ï¼‰',
        'user.register.form.furigana.placeholder': 'ä¾‹å¦‚ï¼šãŸãªã‹ ãŸã‚ã†',
        'user.register.form.furigana.help': 'ç”¨å¹³å‡åè¾“å…¥å§“åè¯»éŸ³',
        
        'user.register.form.nickname': 'æ˜µç§°',
        'user.register.form.nickname.placeholder': 'ä¾‹å¦‚ï¼šå±±ç”°ã€ç”°ä¸­',
        'user.register.form.nickname.help': 'æ˜¾ç¤ºåœ¨ç•™è¨€æ¿ä¸Šã€‚å¦‚æœç•™ç©ºï¼Œç”¨æˆ·å°†åœ¨é¦–æ¬¡ç™»å½•æ—¶è®¾ç½®ã€‚',
        
        'user.register.form.email': 'ç”µå­é‚®ç®±',
        'user.register.form.email.placeholder': 'example@email.com',
        'user.register.form.email.help': 'ç”¨äºé­”æ³•é“¾æ¥è®¤è¯',
        
        'user.register.form.startdate': 'å¼€å§‹æ—¥æœŸ',
        'user.register.form.startdate.help': 'ä»æ­¤æ—¥æœŸèµ·å¯ç™»å½•',
        
        'user.register.form.status': 'çŠ¶æ€',
        'user.register.form.status.active': 'æœ‰æ•ˆ',
        'user.register.form.status.inactive': 'æ— æ•ˆ',
        'user.register.form.status.help': 'é€šå¸¸é€‰æ‹©"æœ‰æ•ˆ"',
        
        // ãƒœã‚¿ãƒ³
        'user.register.button.cancel': 'å–æ¶ˆ',
        'user.register.button.submit': 'æ³¨å†Œ',
        
        // æ³¨æ„äº‹é …
        'user.register.notes.title': 'æ³¨å†Œåæµç¨‹',
        'user.register.notes.1': '1. ä»¥ä¹¦é¢å½¢å¼å‘å±…æ°‘åˆ†å‘äºŒç»´ç å’Œå¼€å§‹æ—¥æœŸ',
        'user.register.notes.2': '2. å±…æ°‘åœ¨å¼€å§‹æ—¥æœŸåé€šè¿‡äºŒç»´ç è®¿é—®ç™»å½•é¡µé¢',
        'user.register.notes.3': '3. å¦‚æœæœªè®¾ç½®æ˜µç§°ï¼Œç”¨æˆ·å°†åœ¨é¦–æ¬¡ç™»å½•æ—¶è®¾ç½®',
        'user.register.notes.4': '4. æ˜µç§°æ˜¾ç¤ºåœ¨ç•™è¨€æ¿ä¸Šï¼ˆçœŸå®å§“åéšè—ï¼‰'
      }
    };
    console.log('âœ… i18nData embedded for user-register.html');
  </script>
</head>

<body class="bg-gray-50">
  <!-- è¨€èªåˆ‡æ›¿ãƒœã‚¿ãƒ³ -->
  <div class="fixed top-4 right-4 language-switcher z-50 shadow-lg">
    <button class="lang-btn" data-lang="ja">JA</button>
    <button class="lang-btn" data-lang="en">EN</button>
    <button class="lang-btn" data-lang="zh">ZH</button>
  </div>

  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="bg-white shadow-sm">
    <div class="max-w-4xl mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <!-- æˆ»ã‚‹ãƒœã‚¿ãƒ³ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã¸ -->
          <button onclick="window.location.href='user-admin.html'" class="text-gray-600 hover:text-gray-900">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </button>
          <h1 class="text-xl font-bold text-gray-900" data-i18n="user.register.title">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²</h1>
        </div>
        <button onclick="logout()" class="text-sm text-gray-600 hover:text-gray-900">
          <span data-i18n="logout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>
        </button>
      </div>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-6 pb-32">
    <!-- èª¬æ˜ -->
    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 fade-in">
      <h3 class="font-bold text-blue-900 mb-2" data-i18n="user.register.subtitle">æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²</h3>
      <p class="text-sm text-blue-800" data-i18n="user.register.description">
        å…¥å±…è€…ã®æƒ…å ±ã‚’ç™»éŒ²ã—ã¾ã™ã€‚ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«æœ¬äººãŒè¨­å®šã—ã¾ã™ã€‚
      </p>
    </div>

    <!-- ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  -->
    <div class="bg-white rounded-lg shadow-sm p-6 mb-6 fade-in">
      <form id="registerForm" onsubmit="handleSubmit(event)">
        <!-- ä½æˆ¸ç•ªå· -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.room">
            ä½æˆ¸ç•ªå· <span class="text-red-500">*</span>
          </label>
          <input 
            type="text" 
            id="roomNumber"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
            data-i18n-placeholder="user.register.form.room.placeholder"
            placeholder="ä¾‹ï¼šA101, B71"
          >
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.room.help">
            å»ºç‰©è¨˜å·ã¨éƒ¨å±‹ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
          </p>
        </div>

        <!-- æ°å -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.name">
            æ°å <span class="text-red-500">*</span>
          </label>
          <input 
            type="text" 
            id="name"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
            data-i18n-placeholder="user.register.form.name.placeholder"
            placeholder="ä¾‹ï¼šç”°ä¸­ å¤ªéƒ"
          >
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.name.help">
            ç®¡ç†çµ„åˆã®ã¿ãŒé–²è¦§ã§ãã¾ã™ï¼ˆä¸€èˆ¬ç”»é¢ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼‰
          </p>
        </div>

        <!-- ãµã‚ŠãŒãª -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.furigana">
            ãµã‚ŠãŒãª <span class="text-red-500">*</span>
          </label>
          <input 
            type="text" 
            id="furigana"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
            data-i18n-placeholder="user.register.form.furigana.placeholder"
            placeholder="ä¾‹ï¼šãŸãªã‹ ãŸã‚ã†"
          >
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.furigana.help">
            æ°åã®èª­ã¿æ–¹ã‚’ã²ã‚‰ãŒãªã§å…¥åŠ›ã—ã¦ãã ã•ã„
          </p>
        </div>

        <!-- ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ  -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.nickname">
            ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ 
          </label>
          <input 
            type="text" 
            id="nickname"
            maxlength="20"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
            data-i18n-placeholder="user.register.form.nickname.placeholder"
            placeholder="ä¾‹ï¼šãƒ¤ãƒãƒ€ã€ã‚¿ãƒŠã‚«"
          >
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.nickname.help">
            æ²ç¤ºæ¿ãªã©ã§è¡¨ç¤ºã•ã‚Œã‚‹åå‰ã§ã™ã€‚ç©ºæ¬„ã®å ´åˆã¯åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«æœ¬äººãŒè¨­å®šã—ã¾ã™ã€‚
          </p>
        </div>

        <!-- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.email">
            ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span class="text-red-500">*</span>
          </label>
          <input 
            type="email" 
            id="email"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
            data-i18n-placeholder="user.register.form.email.placeholder"
            placeholder="example@email.com"
          >
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.email.help">
            ãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯èªè¨¼ã«ä½¿ç”¨ã•ã‚Œã¾ã™
          </p>
        </div>

        <!-- åˆ©ç”¨é–‹å§‹æ—¥ -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.startdate">
            åˆ©ç”¨é–‹å§‹æ—¥ <span class="text-red-500">*</span>
          </label>
          <input 
            type="date" 
            id="startDate"
            required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
          >
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.startdate.help">
            ã“ã®æ—¥ä»˜ä»¥é™ã«ãƒ­ã‚°ã‚¤ãƒ³ãŒå¯èƒ½ã«ãªã‚Šã¾ã™
          </p>
        </div>

        <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
        <div class="mb-6">
          <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="user.register.form.status">
            ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
          </label>
          <select 
            id="status"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"
          >
            <option value="active" data-i18n="user.register.form.status.active">æœ‰åŠ¹</option>
            <option value="inactive" data-i18n="user.register.form.status.inactive">ç„¡åŠ¹</option>
          </select>
          <p class="mt-1 text-xs text-gray-500" data-i18n="user.register.form.status.help">
            é€šå¸¸ã¯ã€Œæœ‰åŠ¹ã€ã‚’é¸æŠã—ã¦ãã ã•ã„
          </p>
        </div>

        <!-- ãƒœã‚¿ãƒ³ -->
        <div class="flex gap-3 pt-4">
          <button 
            type="button"
            onclick="window.location.href='user-admin.html'"
            class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-300 transition"
            data-i18n="user.register.button.cancel"
          >
            ã‚­ãƒ£ãƒ³ã‚»ãƒ«
          </button>
          <button 
            type="submit"
            class="flex-1 bg-cyan-600 text-white py-3 rounded-lg font-bold hover:bg-cyan-700 transition"
            data-i18n="user.register.button.submit"
          >
            ç™»éŒ²ã™ã‚‹
          </button>
        </div>
      </form>
    </div>

    <!-- ç™»éŒ²å¾Œã®æµã‚Œ -->
    <div class="bg-amber-50 border border-amber-200 rounded-lg p-6 fade-in">
      <h3 class="font-bold text-amber-900 mb-3 flex items-center gap-2">
        <span>ğŸ’¡</span>
        <span data-i18n="user.register.notes.title">ç™»éŒ²å¾Œã®æµã‚Œ</span>
      </h3>
      <ol class="space-y-2 text-sm text-amber-800">
        <li data-i18n="user.register.notes.1">1. ç™»éŒ²å®Œäº†å¾Œã€å…¥å±…è€…ã«QRã‚³ãƒ¼ãƒ‰ã¨åˆ©ç”¨é–‹å§‹æ—¥ã‚’æ›¸é¢ã§é…å¸ƒ</li>
        <li data-i18n="user.register.notes.2">2. åˆ©ç”¨é–‹å§‹æ—¥ä»¥é™ã€å…¥å±…è€…ã¯QRã‚³ãƒ¼ãƒ‰ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ã‚¢ã‚¯ã‚»ã‚¹</li>
        <li data-i18n="user.register.notes.3">3. åˆå›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã€å…¥å±…è€…è‡ªèº«ãŒãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’è¨­å®š</li>
        <li data-i18n="user.register.notes.4">4. ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯æ²ç¤ºæ¿ãªã©ã§è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆå®Ÿåã¯éè¡¨ç¤ºï¼‰</li>
      </ol>
    </div>
  </main>

  <!-- ç¿»è¨³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆåŸ‹ã‚è¾¼ã¿ç‰ˆï¼‰ -->
  <script>
    // å¤šè¨€èªç®¡ç†ã‚¯ãƒ©ã‚¹
    class EmbeddedLanguageManager {
      constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'ja';
        this.translations = window.i18nData;
      }
      
      setLanguage(lang) {
        if (this.translations[lang]) {
          this.currentLanguage = lang;
          localStorage.setItem('language', lang);
          this.updatePage();
          this.updateLanguageButtons();
        }
      }
      
      translate(key) {
        const translation = this.translations[this.currentLanguage];
        return translation && translation[key] ? translation[key] : key;
      }
      
      updatePage() {
        // data-i18nå±æ€§ã‚’æŒã¤å…¨ã¦ã®è¦ç´ ã‚’ç¿»è¨³
        document.querySelectorAll('[data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          const translation = this.translate(key);
          
          // å­è¦ç´ ãŒãªã„å ´åˆã¯textContentã‚’ç›´æ¥æ›´æ–°
          if (element.children.length === 0) {
            element.textContent = translation;
          } else {
            // å­è¦ç´ ãŒã‚ã‚‹å ´åˆã¯ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã®ã¿ã‚’æ›´æ–°
            for (let node of element.childNodes) {
              if (node.nodeType === Node.TEXT_NODE && node.textContent.trim()) {
                node.textContent = translation;
                break;
              }
            }
          }
        });
        
        // placeholderå±æ€§ã®ç¿»è¨³
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
          const key = element.getAttribute('data-i18n-placeholder');
          element.placeholder = this.translate(key);
        });
        
        // ã‚¿ã‚¤ãƒˆãƒ«ã‚¿ã‚°ã®ç¿»è¨³
        const titleElement = document.querySelector('title');
        if (titleElement && titleElement.hasAttribute('data-i18n')) {
          const key = titleElement.getAttribute('data-i18n');
          document.title = this.translate(key);
        }
      }
      
      updateLanguageButtons() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
          const lang = btn.getAttribute('data-lang');
          if (lang === this.currentLanguage) {
            btn.classList.add('active');
            btn.classList.remove('inactive');
          } else {
            btn.classList.remove('active');
            btn.classList.add('inactive');
          }
        });
      }
      
      init() {
        // è¨€èªåˆ‡æ›¿ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        document.querySelectorAll('.lang-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const lang = btn.getAttribute('data-lang');
            this.setLanguage(lang);
          });
        });
        this.updatePage();
        this.updateLanguageButtons();
      }
    }
    
    // DOMãƒ­ãƒ¼ãƒ‰æ™‚ã«åˆæœŸåŒ–
    document.addEventListener('DOMContentLoaded', function() {
      window.languageManager = new EmbeddedLanguageManager();
      window.languageManager.init();
      
      // ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªç¿»è¨³é–¢æ•°
      window.i18n = function(key) {
        return window.languageManager.translate(key);
      };
      
      // æœ¬æ—¥ã®æ—¥ä»˜ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦è¨­å®š
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('startDate').value = today;
    });

    // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
    function logout() {
      if (confirm('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
        localStorage.removeItem('isLoggedIn');
        localStorage.removeItem('roomNumber');
        window.location.href = 'index.html';
      }
    }

    // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å‡¦ç†
    function handleSubmit(event) {
      event.preventDefault();
      
      // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
      const formData = {
        roomNumber: document.getElementById('roomNumber').value,
        name: document.getElementById('name').value,
        furigana: document.getElementById('furigana').value,
        nickname: document.getElementById('nickname').value || 'ï¼ˆæœªè¨­å®šï¼‰',
        email: document.getElementById('email').value,
        startDate: document.getElementById('startDate').value,
        status: document.getElementById('status').value
      };
      
      // ãƒ‡ãƒ¢ç‰ˆï¼šç™»éŒ²æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      const statusText = formData.status === 'active' ? 'æœ‰åŠ¹' : 'ç„¡åŠ¹';
      alert(`ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ï¼ˆãƒ‡ãƒ¢ï¼‰\n\nå®Ÿè£…å¾Œã€ä»¥ä¸‹ã®æƒ…å ±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š\n\nä½æˆ¸ç•ªå·ï¼š${formData.roomNumber}\næ°åï¼š${formData.name}\nãµã‚ŠãŒãªï¼š${formData.furigana}\nãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼š${formData.nickname}\nãƒ¡ãƒ¼ãƒ«ï¼š${formData.email}\nåˆ©ç”¨é–‹å§‹æ—¥ï¼š${formData.startDate}\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼š${statusText}`);
      
      // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã«æˆ»ã‚‹
      window.location.href = 'user-admin.html';
    }
  </script>

  <script src="js/app.js"></script>
</body>
</html>
