<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="survey.complete.title">ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå®Œäº† - ã‚»ã‚­ãƒ¥ãƒ¬ã‚¢ã‚·ãƒ†ã‚£</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/custom.css">
  
  <script>
    window.i18nData = {
      ja: {
        'survey.complete.title': 'ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå®Œäº†',
        'survey.complete.message': 'ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã®å›ç­”ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸ',
        'survey.complete.details': 'å›ç­”å†…å®¹',
        'survey.complete.survey_name': 'ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ',
        'home.survey.environment': 'ä½ç’°å¢ƒã«é–¢ã™ã‚‹ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ',
        'survey.complete.datetime': 'å›ç­”æ—¥æ™‚',
        'survey.complete.user': 'å›ç­”è€…',
        'survey.complete.user_id': 'ä½æˆ¸ç•ªå· B71',
        'survey.complete.thanks': 'ğŸ’¡ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™',
        'survey.complete.thanks_msg': 'çš†æ§˜ã‹ã‚‰ã„ãŸã ã„ãŸã”æ„è¦‹ã¯ã€ç®¡ç†çµ„åˆã§æ¤œè¨ã—ã€ã‚ˆã‚Šè‰¯ã„ä½ç’°å¢ƒã¥ãã‚Šã«æ´»ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚',
        'survey.manage.result': 'é›†è¨ˆçµæœã‚’è¦‹ã‚‹ï¼ˆç®¡ç†è€…å‘ã‘ï¼‰',
        'home.title': 'ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹',
        'survey.complete.email_info': 'å›ç­”å†…å®¹ã®ç¢ºèªãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸ<br>ï¼ˆå®Ÿé‹ç”¨ç‰ˆã®æ©Ÿèƒ½ï¼‰'
      },
      en: {
        'survey.complete.title': 'Survey Complete',
        'survey.complete.message': 'Your response has been received',
        'survey.complete.details': 'Response Details',
        'survey.complete.survey_name': 'Survey',
        'home.survey.environment': 'Living Environment Survey',
        'survey.complete.datetime': 'Submission Time',
        'survey.complete.user': 'Respondent',
        'survey.complete.user_id': 'Room No. B71',
        'survey.complete.thanks': 'ğŸ’¡ Thank You',
        'survey.complete.thanks_msg': 'Your feedback will be reviewed by the management association and used to improve our living environment.',
        'survey.manage.result': 'View Results (Admin)',
        'home.title': 'Back to Home',
        'survey.complete.email_info': 'A confirmation email has been sent<br>(Live version feature)'
      },
      zh: {
        'survey.complete.title': 'è°ƒæŸ¥é—®å·å·²å®Œæˆ',
        'survey.complete.message': 'æ‚¨çš„å›ç­”å·²æ”¶åˆ°',
        'survey.complete.details': 'å›ç­”è¯¦æƒ…',
        'survey.complete.survey_name': 'è°ƒæŸ¥é—®å·',
        'home.survey.environment': 'å±…ä½ç¯å¢ƒè°ƒæŸ¥',
        'survey.complete.datetime': 'æäº¤æ—¶é—´',
        'survey.complete.user': 'å›ç­”è€…',
        'survey.complete.user_id': 'æˆ¿å· B71',
        'survey.complete.thanks': 'ğŸ’¡ è°¢è°¢',
        'survey.complete.thanks_msg': 'æ‚¨æä¾›çš„æ„è§å°†ç”±ç®¡ç†ç»„åˆè¿›è¡Œè®¨è®ºï¼Œå¹¶ç”¨äºè¥é€ æ›´å¥½çš„å±…ä½ç¯å¢ƒã€‚',
        'survey.manage.result': 'æŸ¥çœ‹æ±‡æ€»ç»“æœï¼ˆç®¡ç†å‘˜ï¼‰',
        'home.title': 'è¿”å›é¦–é¡µ',
        'survey.complete.email_info': 'å·²å‘é€å›ç­”å†…å®¹çš„ç¡®è®¤é‚®ä»¶<br>ï¼ˆå®é™…è¿è¥ç‰ˆåŠŸèƒ½ï¼‰'
      }
    };
  </script>
</head>
<body class="bg-gray-50">
  <div class="fixed top-4 right-4 language-switcher z-50 shadow-lg">
    <button class="lang-btn" data-lang="ja">JA</button>
    <button class="lang-btn" data-lang="en">EN</button>
    <button class="lang-btn" data-lang="zh">ZH</button>
  </div>


  <main class="min-h-screen flex items-center justify-center px-4">
    <div class="max-w-md w-full">
      <div class="text-center mb-8 fade-in">
        <div class="inline-block bg-green-100 rounded-full p-6 mb-4">
          <svg class="w-16 h-16 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
        </div>
        <h1 class="text-2xl font-bold text-gray-900 mb-2" data-i18n="survey.complete.title">
          å›ç­”ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ
        </h1>
        <p class="text-gray-600" data-i18n="survey.complete.message">
          ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã®å›ç­”ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸ
        </p>
      </div>

      <div class="bg-white rounded-lg shadow-sm p-6 mb-6 fade-in">
        <h2 class="font-bold text-gray-900 mb-4" data-i18n="survey.complete.details">å›ç­”å†…å®¹</h2>
        
        <div class="space-y-4 text-sm">
          <div class="flex items-center gap-3">
            <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <div>
              <div class="font-bold text-gray-900" data-i18n="survey.complete.survey_name">ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</div>
              <div class="text-gray-600" data-i18n="home.survey.environment">ä½ç’°å¢ƒã«é–¢ã™ã‚‹ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</div>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
            </svg>
            <div>
              <div class="font-bold text-gray-900" data-i18n="survey.complete.datetime">å›ç­”æ—¥æ™‚</div>
              <div class="text-gray-600" id="submitTime">2025/10/20 15:32</div>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
            </svg>
            <div>
              <div class="font-bold text-gray-900" data-i18n="survey.complete.user">å›ç­”è€…</div>
              <div class="text-gray-600" data-i18n="survey.complete.user_id">ä½æˆ¸ç•ªå· B71</div>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 fade-in">
        <p class="text-sm text-blue-800">
          <span class="font-bold" data-i18n="survey.complete.thanks">ğŸ’¡ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™</span><br>
          <span data-i18n="survey.complete.thanks_msg">çš†æ§˜ã‹ã‚‰ã„ãŸã ã„ãŸã”æ„è¦‹ã¯ã€ç®¡ç†çµ„åˆã§æ¤œè¨ã—ã€ã‚ˆã‚Šè‰¯ã„ä½ç’°å¢ƒã¥ãã‚Šã«æ´»ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚</span>
        </p>
      </div>

      <div class="space-y-3 fade-in">
        <button 
          onclick="window.location.href='survey-result.html'" 
          class="w-full bg-purple-600 text-white py-4 rounded-lg font-bold hover:bg-purple-700 transition"
        >
          <span data-i18n="survey.manage.result">é›†è¨ˆçµæœã‚’è¦‹ã‚‹ï¼ˆç®¡ç†è€…å‘ã‘ï¼‰</span>
        </button>
        <button 
          onclick="window.location.href='home.html'" 
          class="w-full bg-blue-600 text-white py-4 rounded-lg font-bold btn-primary"
        >
          <span data-i18n="home.title">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</span>
        </button>
      </div>

      <div class="mt-6 text-center">
        <p class="text-sm text-gray-500" data-i18n="survey.complete.email_info">
          å›ç­”å†…å®¹ã®ç¢ºèªãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸ<br>
          ï¼ˆå®Ÿé‹ç”¨ç‰ˆã®æ©Ÿèƒ½ï¼‰
        </p>
      </div>
    </div>
  </main>


  <script>
    class EmbeddedLanguageManager {
      constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'ja';
        this.translations = window.i18nData;
        this.dynamicHooks = []; 
      }
      
      setLanguage(lang) {
        if (this.translations[lang]) {
          this.currentLanguage = lang;
          localStorage.setItem('language', lang);
          this.updatePage();
          this.updateLanguageButtons();
          this.dynamicHooks.forEach(hook => hook());
        }
      }
      
      translate(key) {
        const translation = this.translations[this.currentLanguage];
        return translation && translation[key] ? translation[key] : key;
      }
      
      updatePage() {
        document.querySelectorAll('[data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          const translation = this.translate(key);
          
          if (key === 'survey.complete.thanks_msg' || key === 'survey.complete.email_info') {
             element.innerHTML = translation;
          }
          else if (element.children.length === 0) {
            element.textContent = translation;
          } else {
            for (let node of element.childNodes) {
              if (node.nodeType === Node.TEXT_NODE && node.textContent.trim()) {
                node.textContent = translation;
                break;
              }
            }
          }
        });

        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
          const key = element.getAttribute('data-i18n-placeholder');
          element.placeholder = this.translate(key);
        });
        
        const titleElement = document.querySelector('title');
        if (titleElement && titleElement.hasAttribute('data-i18n')) {
          const key = titleElement.getAttribute('data-i18n');
          document.title = this.translate(key);
        }
      }
      
      updateLanguageButtons() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
          const lang = btn.getAttribute('data-lang');
          if (lang === this.currentLanguage) {
            btn.classList.add('active');
            btn.classList.remove('inactive');
          } else {
            btn.classList.remove('active');
            btn.classList.add('inactive');
          }
        });
      }
      
      init() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            // â˜…â˜…â˜… ã“ã“ã‚’ä¿®æ­£ â˜…â˜…â˜…
            const lang = btn.getAttribute('data-lang'); // 'data-i18n' -> 'data-lang'
            // â˜…â˜…â˜… (ä¿®æ­£ã“ã“ã¾ã§) â˜…â˜…â˜…
            this.setLanguage(lang);
          });
        });
      }
    }
    
    window.languageManager = new EmbeddedLanguageManager();
    window.i18n = function(key) {
      return window.languageManager.translate(key);
    };
  </script>
  
  <script>
    // DOMèª­ã¿è¾¼ã¿å®Œäº†æ™‚ã«ã€ç¿»è¨³ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ã¨æ™‚åˆ»è¡¨ç¤º
    document.addEventListener('DOMContentLoaded', function() {
      // ç¿»è¨³ã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚­ãƒƒã‚¯
      window.languageManager.init();
      window.languageManager.updatePage(); // é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆå›ç¿»è¨³
      window.languageManager.updateLanguageButtons(); // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹æ›´æ–°

      // ç¾åœ¨æ™‚åˆ»ã‚’è¡¨ç¤º
      const now = new Date();
      const formatted = `${now.getFullYear()}/${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
      const timeEl = document.getElementById('submitTime');
      if (timeEl) {
        timeEl.textContent = formatted;
      }
    });
  </script>
  </body>
</html>